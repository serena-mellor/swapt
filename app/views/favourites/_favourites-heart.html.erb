<% if current_user && current_user.favourites.pluck(:outfit_id).include?(outfit.id) %>
    <% user_favourite_outfit = outfit.favourites.find_by(user_id: current_user.id) %>
    <%= link_to '<i class="fa-solid fa-heart fa-xl"></i>'.html_safe, favourite_path(user_favourite_outfit, favourite_id: user_favourite_outfit.id), data:{ turbo_method: :delete, favourite_id: user_favourite_outfit.id, action: 'click->favourites#deleteFavourite'} %>
  <% else %>
    <%= link_to '<i class="fa-regular fa-heart fa-xl"></i>'.html_safe, outfit_favourites_path({ outfit_id: outfit.id }), data: { turbo_method: :post, outfit_id: outfit.id, action: 'click->favourites#addFavourite'} %>
<% end %>
